{{define "article_list" -}}

    {{template "head" . -}}

    {{$data := .Data -}}
    {{$startIndex := add (mul (add $data.CurrPage -1) $data.PageSize) 1}}
    <ol class="article-list" style="padding-left:0rem;list-style-position:inside;" start="{{$startIndex}}">
	{{range $idx, $item := .Data.Articles -}}
	    <li>
		<a {{if eq $idx 0}}id="article-list-head"{{end}} href="/articles/{{$item.Id}}">{{$item.Title}}</a>
		<br/>
		<small style="color:#999">By <a style="color:#999" href="/users/{{$item.AuthorId}}">{{$item.AuthorName}}</a> <time title="{{$item.CreatedAt}}">{{timeAgo $item.CreatedAt}}</time> <a href="/articles/{{$item.Id}}" style="color:#999">{{$item.TotalReplyCount}} comment{{if ne $item.TotalReplyCount 1}}s{{end}}</a></small>
	    </li>
	{{end -}}
    </ol>

    {{ $pagiData := dict "currPage" .Data.CurrPage "totalPage" .Data.TotalPage "pathPrefix" "/articles"  }}
    {{ template "pagination" $pagiData }}    

    {{template "foot" -}}
{{end -}}
