{{define "article_list" -}}

    {{template "head" . -}}

    {{$data := .Data -}}
    <ol style="padding-left:0rem;list-style-position:inside;" start="{{add (mul (add $data.CurrPage -1) $data.PageSize) 1}}">
	{{range $idx, $item := .Data.Articles -}}
	    <li>
		<a href="/articles/{{$item.Id}}">{{$item.Title}}</a>
		<br/>
		<small style="color:#999">By <a style="color:#999" href="/users/{{$item.AuthorId}}">{{$item.AuthorName}}</a> <time title="{{$item.CreatedAt}}">{{timeAgo $item.CreatedAt}}</time> <a href="/articles/{{$item.Id}}" style="color:#999">{{$item.TotalReplyCount}} comment{{if ne $item.TotalReplyCount 1}}s{{end}}</a></small>
	    </li>
	{{end -}}
    </ol>

    <div>
	{{- if gt .Data.CurrPage 1 -}}
	    <a href="/articles">First</a>&nbsp;
	    <a href="/articles?page={{add .Data.CurrPage -1}}">Prev Page</a>&nbsp;&nbsp;
	{{- end -}}

	{{- if gt .Data.TotalPage 1 -}}
	    {{$currPage := .Data.CurrPage}}
	    {{- range $page := intRange 1 .Data.TotalPage -}}
		{{- if eq $currPage $page -}}
		    &nbsp;{{$page}}&nbsp;&nbsp;
		{{- else -}}
		    &nbsp;<a href="/articles?page={{$page}}">{{$page}}</a>&nbsp;&nbsp;
		{{- end -}}
	    {{- end -}}
	{{- end -}}

	{{- if lt .Data.CurrPage .Data.TotalPage -}}
	    <a href="/articles?page={{add .Data.CurrPage 1}}">Next Page</a>&nbsp;
	    <a href="/articles?page={{.Data.TotalPage}}">Last</a>&nbsp;
	{{- end -}}
    </div>
    

    {{template "foot" -}}
{{end -}}
