{{define "user_basic_info" -}}
    <div class="data-list">
	<div class="data-list__row">
            <div class="data-list__label">Joined At:</div>
            <div class="data-list__content">
		{{timeFormat .RegisteredAt "YYYY/MM/DD"}}
	    </div>
	</div>
	{{if .Introduction -}}
	    <div class="data-list__row">
		<div class="data-list__label">Introduction:</div>
		<div class="data-list__content" style="white-space:break-spaces;">
		    {{- .Introduction -}}
		</div>
	    </div>
	{{- end -}}
    </div>
{{end -}}

{{define "post_list" -}}
    <ul>
	{{range . -}}
	    <li>
		<div>
		    <a href="/articles/{{.Id}}">{{.DisplayTitle}}</a>
		    <small><time title="{{.CreatedAt}}">{{timeAgo .CreatedAt}}</time></small>
		</div>
		<div style="margin: 6px 0 12px;">{{substr 0 500 .Content}}{{if gt (len .Content) 500}} ...{{end}}</div>
	    </li>
	{{end -}}
    </ul>
{{end -}}

{{define "user_item" -}}

    {{template "head" . -}}

    <h1>{{.Data.UserInfo.Name}}</h1>

    {{template "user_basic_info" .Data.UserInfo -}}

    {{if .Data.Posts -}}
	<h2>Posts</h2>
    {{end -}}

    {{template "post_list" .Data.Posts -}}

    {{template "foot" . -}}

{{end -}}
